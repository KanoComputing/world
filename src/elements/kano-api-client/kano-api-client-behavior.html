<link rel="import" href="../../js/config.html">
<script>
    (function (Kano) {

        const resourceMap = {
            'feed': 'share',
            'stats': 'stats/activity',
            'session': 'auth/session',
            'user-by-username': 'users/username/:username',
            'login': 'auth'
        };

        // @polymerBehavior
        Kano.APIClient = {
            _getUrl (resource, params={}) {
                let path = resourceMap[resource];

                Object.keys(params).forEach(key => {
                    path = path.replace(new RegExp(`:${key}`, 'i'), params[key]);
                });

                return `${Kano.World.config.API_URL}/${path}`;
            }
        };
    })(window.Kano = window.Kano || {});
</script>